diff -urN bridge.org/brctl/Makefile bridge/brctl/Makefile
--- bridge.org/brctl/Makefile	Tue Feb 22 00:26:59 2000
+++ bridge/brctl/Makefile	Tue Feb 22 00:56:45 2000
@@ -1,10 +1,10 @@
 all:			brctl brctld
 
 brctl:			brctl.o brctl_cmd.o brctl_disp.o ../libbridge/libbridge.a
-			gcc -Wall -g -o brctl brctl.o brctl_cmd.o brctl_disp.o ../libbridge/libbridge.a
+			gcc -Wall $(OPT) -s -o brctl brctl.o brctl_cmd.o brctl_disp.o ../libbridge/libbridge.a
 
 brctld:			brctld.o brctl_cmd.o brctl_disp.o ../libbridge/libbridge.a
-			gcc -Wall -g -o brctld brctld.o brctl_cmd.o brctl_disp.o ../libbridge/libbridge.a
+			gcc -Wall $(OPT) -s -o brctld brctld.o brctl_cmd.o brctl_disp.o ../libbridge/libbridge.a
 
 clean:
 			rcsclean *
@@ -15,13 +15,13 @@
 			rm -f core
 
 brctl.o:		brctl.c brctl.h
-			gcc -I../libbridge -Wall -c -g -o brctl.o brctl.c
+			gcc -I../libbridge -Wall -c $(OPT) -o brctl.o brctl.c
 
 brctld.o:		brctld.c brctl.h
-			gcc -I../libbridge -Wall -c -g -o brctld.o brctld.c
+			gcc -I../libbridge -Wall -c $(OPT) -o brctld.o brctld.c
 
 brctl_cmd.o:		brctl_cmd.c brctl.h
-			gcc -I../libbridge -Wall -c -g -o brctl_cmd.o brctl_cmd.c
+			gcc -I../libbridge -Wall -c $(OPT) -o brctl_cmd.o brctl_cmd.c
 
 brctl_disp.o:		brctl_disp.c brctl.h
-			gcc -I../libbridge -Wall -c -g -o brctl_disp.o brctl_disp.c
+			gcc -I../libbridge -Wall -c $(OPT) -o brctl_disp.o brctl_disp.c
diff -urN bridge.org/libbridge/Makefile bridge/libbridge/Makefile
--- bridge.org/libbridge/Makefile	Tue Feb 22 00:26:59 2000
+++ bridge/libbridge/Makefile	Tue Feb 22 00:56:45 2000
@@ -1,4 +1,4 @@
-CC = gcc -Wall -c -g
+CC = gcc -Wall -c $(OPT)
 
 all:			libbridge.a
 
diff -urN bridge.org/libbridge/libbridge.h bridge/libbridge/libbridge.h
--- bridge.org/libbridge/libbridge.h	Tue Feb 22 00:26:59 2000
+++ bridge/libbridge/libbridge.h	Tue Feb 22 00:57:34 2000
@@ -127,8 +127,10 @@
 int br_set_path_cost(struct port *p, int path_cost);
 int br_read_fdb(struct bridge *br, struct fdb_entry *fdbs, int offset, int num);
 
+#ifndef __GLIBC__
 /* libc5 combatability */
 char *if_indextoname(unsigned int __ifindex, char *__ifname);
 unsigned int if_nametoindex(const char *__ifname);
+#endif
 
 #endif
diff -urN bridge.org/misc/RCS/Makefile,v bridge/misc/RCS/Makefile,v
--- bridge.org/misc/RCS/Makefile,v	Tue Feb 22 00:26:59 2000
+++ bridge/misc/RCS/Makefile,v	Tue Feb 22 00:56:45 2000
@@ -31,8 +31,8 @@
 		rm -f tap
 
 bidi:		bidi.c
-		gcc -Wall -g -o bidi bidi.c
+		gcc -Wall $(OPT) -o bidi bidi.c
 
 tap:		tap.c
-		gcc -Wall -g -o tap tap.c
+		gcc -Wall $(OPT) -o tap tap.c
 @
